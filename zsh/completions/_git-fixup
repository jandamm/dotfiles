#compdef git-fixup

function _git-fixup() {
	local refs
	_arguments '1:command:(apply)'
	refs=$(git log --format='%h:%s' -n 25) 2&>/dev/null
	if [ $? -eq 0 ]; then
		refs=( ${(f)refs} ) # Split lines by \n and store in array
		_describe 'refs' refs
	fi
}

_git-fixup "$@"
