[user]
	name = Jan Dammshäuser
	email = mail@jandamm.de
[core]
	editor = nvim
	pager = diff-so-fancy | less --tabs=4 -RFX
	excludesfile = ~/.gitignore
[alias]
	addp = add --patch
	amend = commit --amend
	nvim = "!nvim" # Use nvim in gitsh
	resetp = reset --patch
	staged = diff --staged
	stashp = stash --patch
	uncommit = reset HEAD~
	update = fetch --all --prune
	v = "!nvim" # Use nvim in gitsh
	vim = "!nvim" # Use nvim in gitsh
	wip = "![ \"$1\" = 'all' ] && (git add -A; git rm $(git ls-files --deleted) 2> /dev/null) ; git commit --no-verify -m '--wip-- [skip ci]' #" # Use # to ignore parameters
[commit]
	verbose = true
[credential]
	helper = osxkeychain

# Diffing
[diff]
	tool = fugitive
[difftool "fugitive"]
	cmd = nvim -f -c \"Gvdiff\" \"$MERGED\"
[difftool "kaleidoscope"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"

# Merging
[merge]
	tool = fugitive
[mergetool "fugitive"]
	cmd = nvim -f -c \"Gvdiffsplit!\" \"$MERGED\"
[mergetool "kaleidoscope"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
	trustExitCode = true

# Tools
[github]
	user = jandamm
[diff-so-fancy]
	markEmptyLines = false
	stripLeadingSymbols = false
[color "diff"]
	meta = blue
	frag = yellow bold

# gitsh
[gitsh]
	noGreeting = true
	defaultCommand = status --short --branch && :echo
	historyFile = "~/.cache/gitsh_history"
	prompt = "δ %d %c%b%#%w"
[gitsh "color"]
	default = green
	untracked = red
	modified = yellow
